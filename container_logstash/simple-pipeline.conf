input { 
    beats {
        port => 5074
    }
} 
filter {
    if [type] == "tomcat_with_duration" {
        grok {
            patterns_dir => "/etc/logstash/patterns"
            match => { "message" => "%{TOMCAT_WITH_DURATION}"}
            named_captures_only => true
        }
    }
}
output { 
    elasticsearch {
		hosts => "elasticsearch:9200"
        user => "elastic"
        password => "changeme"
	}
    stdout { 
        codec => rubydebug
    } 
}